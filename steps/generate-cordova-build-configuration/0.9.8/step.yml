title: Generate Cordova build configuration
summary: Generate a `build.json` file specifying code signing parameters for the **Cordova
  Archive** Step.
description: "\"To sign a Cordova app, you need a `build.json` file with the appropriate
  code signing settings. This Step creates that file based on your inputs, and passes
  it on to the **Cordova Archive** or **Ionic Archive** Step that builds your app.
  The Step takes code signing settings for both [iOS](http://cordova.apache.org/docs/en/8.x/guide/platforms/ios/index.html#using-buildjson)
  and [Android](http://cordova.apache.org/docs/en/8.x/guide/platforms/android/index.html#using-buildjson)
  projects.\n\n### Configuring the Step\n\nBefore you start, make sure you have either
  the **Certificate and profile installer** Step or the **iOS Auto Provisioning Step**
  in your Workflow. Either one is required for [code signing iOS apps](https://devcenter.bitrise.io/code-signing/ios-code-signing/ionic-cordova-code-signing/).
  \n\nYou also need to upload the appropriate iOS code signing files (certificate
  and provisioning profile), and an [Android keystore file](https://developer.android.com/studio/publish/app-signing#generate-key).
  \n\n1. Set the build configuration type in the **Build configuration** input.\n
  \  The input value must be the same as the value of the **Build command configuration**
  input of the **Cordova Archive** Step.\n2. Configure the Step for iOS apps with
  the following inputs: \n   - **Code Sign Identity**: enter a Developer or a Distribution
  identity.\n   - **Provisioning Profile**: enter the appropriate Provisioning Profile.\n
  \  - **Packaging Type**: this controls what type of build is generated by Xcode.
  Make sure it matches the type of code signing files you want to use for the build.
  \n3. Configure the Step for Android apps with the following inputs: \n   - **Keystore
  password**\n   - **Alias**\n   - **Private key password**\n   \nIf all goes well,
  the Step should export the `$BITRISE_CORDOVA_BUILD_CONFIGURATION` Environment Variable
  that is used by the **Cordova Archive** Step. \n\n### Useful links\n\n- [Getting
  started with Ionic/Cordova apps](https://devcenter.bitrise.io/getting-started/getting-started-with-ionic-cordova-apps/)\n-
  [Code signing with Ionic and Cordova apps](https://devcenter.bitrise.io/code-signing/ios-code-signing/ionic-cordova-code-signing/)\n-
  [Android code signing](https://devcenter.bitrise.io/code-signing/android-code-signing/android-code-signing-using-bitrise-sign-apk-step/)\n\n###
  Related Steps \n\n- [Cordova Archive](https://www.bitrise.io/integrations/steps/cordova-archive)\n-
  [Cordova prepare](https://www.bitrise.io/integrations/steps/cordova-prepare)\n-
  [Manipulate Cordova config.xml](https://www.bitrise.io/integrations/steps/cordova-config)\""
website: https://github.com/bitrise-community/steps-generate-cordova-build-configuration
source_code_url: https://github.com/bitrise-community/steps-generate-cordova-build-configuration
support_url: https://github.com/bitrise-community/steps-generate-cordova-build-configuration/issues
published_at: 2020-12-11T09:44:17.748658243Z
source:
  git: https://github.com/bitrise-steplib/steps-generate-cordova-build-configuration.git
  commit: c8d43808d32000a92d5956950f25b16c6b620561
project_type_tags:
- cordova
type_tags:
- utility
toolkit:
  go:
    package_name: github.com/bitrise-community/steps-generate-cordova-build-configuration
deps:
  brew:
  - name: go
inputs:
- configuration: debug
  opts:
    description: Specify build configuration.
    is_required: true
    summary: Specify build configuration
    title: Build configuration
    value_options:
    - release
    - debug
- development_team: null
  opts:
    description: The development team (Team ID) to use for code signing, __for example__
      `1MZX23ABCD4`
    summary: The development team (Team ID) to use for code signing, __for example__
      `1MZX23ABCD4`
    title: Development Team
- code_sign_identity: null
  opts:
    description: "Code Signing Identity to use for signing.\n\nSpecify Code Signing
      Identity as full ID ( __for example__ `iPhone Developer: Bitrise Bot (VV2J4SV8V4)`)
      \ \nor specify code sign group ( __for example__ `iPhone Developer` or `iPhone
      Distribution` )."
    summary: Code Signing Identity to use for signing
    title: Code Signing Identity
- automatic_provisioning: "no"
  opts:
    description: "Enable to allow Xcode to automatically manage provisioning profiles.\n\nIf
      this input is set to `yes`, the `Provisioning Profile` input will be omitted,
      \ \notherwise `Provisioning Profile` is required for iOS code signing."
    summary: Enable to allow Xcode to automatically manage provisioning profiles
    title: Enable to allow Xcode to automatically manage provisioning profiles
    value_options:
    - "no"
    - "yes"
- opts:
    description: "Provisioning Profile to be used for signing.\n\nUse Provisioning
      Profile's UUID ( __for example__ `c5be4123-1234-4f9d-9843-0d9be985a068` )  \nor
      specify Profile's name ( __for example__ `Bitrise development - (com.bitrise.cordovasample)`
      )."
    summary: Provisioning Profile to be used for signing
    title: Provisioning Profile
  provisioning_profile: null
- opts:
    description: This input will control what type of build is generated by Xcode.
    summary: This input will control what type of build is generated by Xcode
    title: Packaging Type
    value_options:
    - none
    - development
    - enterprise
    - ad-hoc
    - app-store
  package_type: none
- keystore_url: $BITRISEIO_ANDROID_KEYSTORE_URL
  opts:
    description: "Path to a binary file which can hold a set of keys.\n\nFor __remote
      keystores__ you can provide any download location, for example, `https://URL/TO/keystore.jks`.
      \ \nFor __local keystores__ provide file path, for example, `file://PATH/TO/keystore.jks`."
    summary: Path to a binary file which can hold a set of keys
    title: Keystore
- keystore_password: $BITRISEIO_ANDROID_KEYSTORE_PASSWORD
  opts:
    description: Password to the keystore.
    is_sensitive: true
    summary: Password to the keystore
    title: Keystore password
- keystore_alias: $BITRISEIO_ANDROID_KEYSTORE_ALIAS
  opts:
    description: The id specifying the private key used for signing.
    is_sensitive: true
    summary: The id specifying the private key used for signing
    title: Alias
- opts:
    description: Password for the private key specified.
    is_sensitive: true
    summary: Password for the private key specified
    title: Password
  private_key_password: $BITRISEIO_ANDROID_KEYSTORE_PRIVATE_KEY_PASSWORD
outputs:
- BITRISE_CORDOVA_BUILD_CONFIGURATION: null
  opts:
    description: The generated build configuration's path.
    title: The generated build configuration's path
