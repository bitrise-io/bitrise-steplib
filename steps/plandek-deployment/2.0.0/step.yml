title: Plandek - deployment
summary: |
  Enables you to track and visualize build and deployment events within Plandek's metrics and dashboards.
description: |
  Wrapper implementing the Plandek /deployment POST API. Used to complete a deployment within Plandek for a given release cycle.
  More details can be found here: [https://api.plandek.com/deployments/v1/ui/](https://api.plandek.com/deployments/v1/ui/)
website: https://github.com/secretescapes/bitrise-step-plandek-deployment
source_code_url: https://github.com/secretescapes/bitrise-step-plandek-deployment
support_url: https://github.com/secretescapes/bitrise-step-plandek-deployment/issues
published_at: 2023-08-30T10:32:24.454204+02:00
source:
  git: https://github.com/secretescapes/bitrise-step-plandek-deployment.git
  commit: 7228ccb6d6a71141aa2ab534f2b7f6b86895e970
type_tags:
- utility
toolkit:
  bash:
    entry_file: step.sh
deps:
  brew:
  - name: jq
  - name: curl
  apt_get:
  - name: jq
  - name: curl
is_always_run: true
inputs:
- api_token: null
  opts:
    description: |
      Plandek API token.
    is_expand: true
    is_required: true
    is_sensitive: true
    summary: |
      Plandek API token.
    title: API token
- client_key: null
  opts:
    description: |
      Unique identifier of your instance.
    is_required: true
    summary: |
      Unique identifier of your instance.
    title: Client key
- opts:
    description: |
      Typically corresponds to the name of your pipeline, workflow, repo, or service under which builds are compiled.
      If you use the same name pipelines across your organization, we recommend appending additional information to
      your pipeline name (e.g. repo name) to make it easier to understand your data.
    is_expand: true
    is_required: true
    summary: |
      Typically corresponds to the name of your pipeline, workflow, repo, or service under which builds are compiled.
    title: Pipeline
  pipeline: $BITRISE_APP_TITLE
- build: null
  opts:
    description: |
      Build identifier in your build tool. Typically the version being deployed (e.g. Svc B 10.2.1).
    is_required: true
    summary: |
      Build identifier in your build tool. Typically the version being deployed (e.g. Svc B 10.2.1).
    title: Build
- commits: null
  opts:
    description: |
      The full commit hash(es) of the release being deployed.
    is_required: true
    skip_if_empty: true
    summary: |
      The full commit hash(es) of the release being deployed.
    title: Commits
- calculate_commits_in_build: "false"
  opts:
    description: |
      If true, Plandek will use the information in your deployment to work out what commits were included in the release
      (see below for explanation). If false, you must specify the commits in the commits field.
    is_required: true
    summary: |
      If true, Plandek will use the information in your deployment to work out what commits were included in the release
      (see below for explanation). If false, you must specify the commits in the commits field.
    title: Calculate commits
    value_options:
    - "true"
    - "false"
- opts:
    description: |
      Release status to be reported to Plandek. If `automatic`, then status would be
      determined based on `$BITRISE_BUILD_STATUS` env variable.
    is_required: true
    summary: |
      Release status to be reported to Plandek.
    title: Release status
    value_options:
    - automatic
    - success
    - failure
    - rollback
    - aborted
  status: automatic
- branch_name: null
  opts:
    category: Optional
    description: |
      Name of the branch being deployed.
    is_expand: true
    skip_if_empty: true
    summary: |
      Name of the branch being deployed.
    title: Branch name
- context: null
  opts:
    category: Optional
    description: |
      String with any value, which can be used to categorize the deployments.
    skip_if_empty: true
    summary: |
      String with any value, which can be used to categorize the deployments.
    title: Context
- commenced_at: null
  opts:
    category: Optional
    description: |
      ISO date string including timezone. Used to calculate the time duration of the deployment.
    skip_if_empty: true
    summary: |
      ISO date string including timezone. Used to calculate the time duration of the deployment.
    title: Commenced at
- deployed_at: null
  opts:
    category: Optional
    description: |
      ISO date string including timezone. Plandek will default to current time if omitted.
    skip_if_empty: true
    summary: |
      ISO date string including timezone. Plandek will default to current time if omitted.
    title: Deployed at
- debug: "false"
  opts:
    category: Debug
    description: |
      Will enable bash script debug log mode.
    is_required: true
    summary: |
      Will enable bash script debug log mode.
    title: Debug mode
    value_options:
    - "true"
    - "false"
- dry_run: "false"
  opts:
    category: Debug
    description: |
      Will build the Plandek request body and print it, but will not run request itself.
    is_required: true
    summary: |
      Will build the Plandek request body and print it, but will not run request itself.
    title: Dry run
    value_options:
    - "true"
    - "false"
