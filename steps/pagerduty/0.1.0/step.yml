title: PagerDuty
summary: |
  Create a PagerDuty alert
description: |
  This step creates a PagerDuty alert with specific parameters. It can use Events API v1 or v2.
website: https://github.com/PagerDuty/bitrise-step-pagerduty
source_code_url: https://github.com/PagerDuty/bitrise-step-pagerduty
support_url: https://github.com/PagerDuty/bitrise-step-pagerduty/issues
published_at: 2019-09-13T14:04:48.789894-04:00
source:
  git: https://github.com/PagerDuty/bitrise-step-pagerduty.git
  commit: f75718ef2c7fa0c1e0af462733585d8c51bffddc
host_os_tags:
- osx-10.10
- ubuntu-16.04
type_tags:
- notification
toolkit:
  bash:
    entry_file: step.sh
deps:
  brew:
  - name: git
  - name: wget
  - name: jq
  apt_get:
  - name: git
  - name: wget
  - name: curl
  - name: jq
is_requires_admin_user: true
is_always_run: true
is_skippable: false
run_if: ""
inputs:
- api_version: v2
  opts:
    description: Events API v1 or v2 (available in the Integrations tab of the Service
      Details).
    is_expand: false
    is_required: true
    summary: Events API v1 or v2 (available in the Integrations tab of the Service
      Details)
    title: API version
    value_options:
    - v1
    - v2
- integration_key: null
  opts:
    description: The hexadecimal service key (available in the Integrations tab of
      the Service Details).
    is_expand: true
    is_required: true
    is_sensitive: true
    summary: The hexadecimal service key (available in the Integrations tab of the
      Service Details)
    title: Integration key
    value_options: []
- description: null
  opts:
    description: The description that the event will be created with.
    is_expand: true
    is_required: true
    summary: The description that the event will be created with
    title: Event description
    value_options: []
- opts:
    description: The severity that the event will be created with (relevant to Event
      Rules).
    is_expand: false
    is_required: false
    summary: The severity that the event will be created with (relevant to Event Rules)
    title: Event severity (API v2 only)
    value_options:
    - critical
    - error
    - warning
    - info
  severity: error
- opts:
    description: Whether or not this step should be skipped if the build is passing.
      Usually you want this to be set to true.
    is_expand: false
    is_required: true
    summary: Whether or not this step should be skipped if the build is passing
    title: Skip if the build is passing
    value_options:
    - true
    - false
  skip_if_build_is_passing: true
outputs:
- PAGERDUTY_EVENT_MESSAGE: null
  opts:
    description: The PagerDuty Events API will return a 'message' which indicates
      the result of the operation.
    summary: The message returned by the PagerDuty Events API
    title: PagerDuty event creation message
- PAGERDUTY_INCIDENT_KEY: null
  opts:
    description: The PagerDuty Events API v1 will return a 'incident_key' which identifies
      the incident.
    summary: The incident key returned by the PagerDuty Events API v1
    title: PagerDuty event creation incident_key
- PAGERDUTY_DEDUP_KEY: null
  opts:
    description: The PagerDuty Events API v2 will return a 'dedup_key' which can be
      used to group alerts into a single incident.
    summary: The deduplication key returned by the PagerDuty Events API v2
    title: PagerDuty event creation dedup_key
