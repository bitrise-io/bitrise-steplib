title: BrowserStack App Automate - Espresso
summary: |
  Run your Espresso tests on BrowserStack App Automate
description: |
  Run your Espresso tests on BrowserStack App Automate. This step collects the built APK from $BITRISE_APK_PATH  and test apk from `$BITRISE_TEST_APK_PATH` Environment Variables
website: https://www.browserstack.com/app-automate
source_code_url: https://github.com/browserstack/browserstack-bitrise-espresso-step
support_url: https://github.com/browserstack/browserstack-bitrise-espresso-step/issues
published_at: 2022-08-16T20:35:40.110892+05:30
source:
  git: https://github.com/browserstack/browserstack-bitrise-espresso-step.git
  commit: 180c566836b44627cf5bbb28e4e9acb771877b2e
host_os_tags:
- osx-10.10
- ubuntu-16.04
project_type_tags:
- android
type_tags:
- test
toolkit:
  go:
    package_name: github.com/browserstack/browserstack-bitrise-espresso-step
deps:
  brew:
  - name: git
  - name: wget
  apt_get:
  - name: git
  - name: wget
is_requires_admin_user: true
is_always_run: false
is_skippable: false
run_if: ""
inputs:
- browserstack_username: null
  opts:
    category: Authentication
    description: Username of the BrowserStack account
    is_required: true
    is_sensitive: true
    summary: Username for the BrowserStack account
    title: BrowserStack username
- browserstack_accesskey: null
  opts:
    category: Authentication
    description: Access Key of the BrowserStack account
    is_required: true
    is_sensitive: true
    summary: Accesskey for the BrowserStack account
    title: BrowserStack accesskey
- android_app_under_test: $BITRISE_APK_PATH
  opts:
    category: App & Test Suite
    description: Path of the app (.apk) file
    is_expand: true
    is_required: true
    summary: Path to the app .apk file
    title: Android app under test
- espresso_test_suite: $BITRISE_TEST_APK_PATH
  opts:
    category: App & Test Suite
    description: Path of the test suite (.apk) file
    is_expand: true
    is_required: true
    summary: Path to the testsuite .apk file
    title: Espresso test suite
- devices_list: null
  opts:
    category: Devices
    description: "Name of one or more device-OS combination in new line \nFor example:\n\n`Samsung
      Galaxy S9 Plus-9.0`\n\n`Google Pixel 3a-9.0`\n"
    is_expand: true
    is_required: true
    summary: Name of one or more device-OS combination in new line from the [device list](https://www.browserstack.com/list-of-browsers-and-platforms/app_automate). 
    title: Devices
- instrumentation_logs: "true"
  opts:
    category: Debug logs
    description: Instrumentation logs are a comprehensive record of your Espresso
      test executions that helps you identify all the steps executed in the test.
    summary: Enable Instrumentation Logs generated by AndroidJunitRunner
    title: Instrumentation logs
    value_options:
    - "true"
    - "false"
- network_logs: "false"
  opts:
    category: Debug logs
    description: 'Network logs captures the network traffic, latency, HTTP requests
      and responses in the HAR (HTTP Archive) format. '
    summary: Enable network traffic, latency, HTTP requests and responses in the HAR
      (HTTP Archive) format
    title: Network Logs
    value_options:
    - "true"
    - "false"
- device_logs: "false"
  opts:
    category: Debug logs
    description: Device logs are system logs specific to your application generated
      by Android logcat that help you debug any test crashes.
    summary: Enable logs generated by Android logcat
    title: Android logcat logs
    value_options:
    - "true"
    - "false"
- debug_screenshots: "false"
  opts:
    category: Debug logs
    description: Screenshots makes it easier to identify the exact step in your test
      where the failure occurred, especially any layout or design-related issues.
    summary: Capture the screenshots in your tests
    title: Capture Screenshots
    value_options:
    - "true"
    - "false"
- opts:
    category: Debug logs
    description: Video recording helps you view the entire test execution and helps
      debug any failed test.
    summary: Enable the video of the test run
    title: Video recording
    value_options:
    - "true"
    - "false"
  video_recording: "true"
- opts:
    category: Test Configuration
    description: A project name helps you group multiple Espresso test executions
      under a single project.
    summary: Project name of the tests.
    title: Project name
  project: null
- filter_test: null
  opts:
    category: Test Configuration
    description: |
      Provide key-value pairs of filters to run tests: class, package, annotation, size

      For example: class com.foo.AddToCartClass,class com.foo.CheckoutClass

      package com.foo

      Learn more.(https://www.browserstack.com/docs/app-automate/espresso/select-test-cases)
    summary: Provide a comma-separated list of class or test names followed by supported
      filtering strategies.
    title: Filter tests
- opts:
    category: Test Configuration
    description: Test sharding splits and run test cases into different group called
      shards. This behaviour is helpful when your test-suite has a large number of
      test cases. [Learn more.](https://www.browserstack.com/docs/app-automate/espresso/test-sharding)
    summary: 'Enable test sharding to split tests cases into different groups instead
      of running them sequentially. '
    title: Test sharding
  use_test_sharding: null
- clear_app_data: "false"
  opts:
    category: Test Configuration
    description: An app might need clean state of the app storage to run every test
      case. Use this feature  to clear app data after every test run. [Learn more.](https://www.browserstack.com/docs/app-automate/espresso/clear-app-data)
    summary: Enable to clear app data after every test run
    title: Clear app data
    value_options:
    - "true"
    - "false"
- opts:
    category: Test Configuration
    description: The single runner invocation feature runs each test case in a single
      process that reduces the overall build time. [Learn more.](https://www.browserstack.com/docs/app-automate/espresso/single-runner-invocation)
    summary: Enable to run each test case in a single process to reduce overall build
      time.
    title: Single runner invocation
    value_options:
    - "true"
    - "false"
  use_single_runner_invocation: "false"
- opts:
    category: Test Configuration
    description: A callback URL helps you enable BrowserStack notify you upon the
      completion of all builds under a given project. You will receive a callback
      if no new builds triggered for 5 minutes and all existing builds have completed
      their execution.This parameter requires that the Project name parameter also
      be set.
    summary: 'A callback URL to enable BrowserStack notify about completion of build
      under a given project. '
    title: Notify project status
  project_notify_url: null
- opts:
    category: Test Configuration
    description: Enable local testing to retrieve app data hosted on local/private
      servers
    summary: Enable local testing to retrieve app data hosted on local/private servers
    title: Local testing
    value_options:
    - "true"
    - "false"
  use_local: "false"
- opts:
    category: Test Configuration
    description: A mock web server mocks the behavior of an actual remote server.
      This makes it easy to test different scenarios without depending on your remote
      server and without having to make changes to your remote server. Local Testing,
      Network logs, and IP geolocation will not work if you are using a mock server.
      [Learn more.](https://www.browserstack.com/docs/app-automate/espresso/use-mock-server)
    summary: Enable to mock a web server in your espresso tests to mock your API responses.
      Learn more.
    title: Mock server
    value_options:
    - "true"
    - "false"
  use_mock_server: "false"
- api_params: null
  opts:
    category: Test Configuration
    description: |
      New line key-value pairs of capabilities provided by BrowserStack.

      For example:
      coverage=true

      geoLocation=CN

      [Learn about more capabilities.](https://www.browserstack.com/docs/app-automate/api-reference/espresso/builds#execute-a-build)
    summary: New line key-value pairs of capabilities provided by BrowserStack.
    title: Test capabilities
- check_build_status: "true"
  opts:
    category: Test Configuration
    description: Wait for build results
    summary: Wait for BrowserStack to complete the execution and get the test results
    title: Build Status
    value_options:
    - "true"
    - "false"
outputs:
- BROWSERSTACK_BUILD_URL: null
  opts:
    description: BrowserStack Dashboard url for the executed build
    summary: BrowserStack Dashboard url for the executed build
    title: BrowserStack Dashboard url
- BROWSERSTACK_BUILD_STATUS: null
  opts:
    description: |
      Status of the executed build. Check values [here:] (https://www.browserstack.com/docs/app-automate/espresso/view-test-results)
    summary: BrowserStack build status
    title: BrowserStack Build Status
